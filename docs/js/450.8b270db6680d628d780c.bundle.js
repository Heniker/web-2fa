(self.webpackChunk=self.webpackChunk||[]).push([[450],{6450:(e,t,r)=>{r.r(t),r.d(t,{QrcodeCapture:()=>$e,QrcodeDropZone:()=>Se,QrcodeStream:()=>_e,VueQrcodeReader:()=>Ee,install:()=>Pe,setZXingModuleOverrides:()=>C});var n=r(6252),o=r(2262),a=r(3577),i=r(9963),s=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},c=(e,t,r)=>(s(e,t,"read from private field"),r?r.call(e):t.get(e));const u=["aztec","code_128","code_39","code_93","codabar","data_matrix","ean_13","ean_8","itf","pdf417","qr_code","upc_a","upc_e","unknown"];function l(e){if(f(e))return{width:e.naturalWidth,height:e.naturalHeight};if(function(e){try{return e instanceof SVGImageElement}catch{return!1}}(e))return{width:e.width.baseVal.value,height:e.height.baseVal.value};if(d(e))return{width:e.videoWidth,height:e.videoHeight};if(p(e))return{width:e.width,height:e.height};if(h(e))return{width:e.width,height:e.height};if(function(e){try{return e instanceof OffscreenCanvas}catch{return!1}}(e))return{width:e.width,height:e.height};if(function(e){try{return e instanceof VideoFrame}catch{return!1}}(e))return{width:e.displayWidth,height:e.displayHeight};throw new Error("Unsupported image type")}function f(e){try{return e instanceof HTMLImageElement}catch{return!1}}function d(e){try{return e instanceof HTMLVideoElement}catch{return!1}}function p(e){try{return e instanceof HTMLCanvasElement}catch{return!1}}function h(e){try{return e instanceof ImageBitmap}catch{return!1}}async function v(e){if(f(e)&&!await async function(e){try{return await e.decode(),!0}catch{return!1}}(e))throw new DOMException("Failed to decode the image.","InvalidStateError");if(d(e)&&(0===e.readyState||1===e.readyState))throw new DOMException("The video data is not available.","InvalidStateError");if(h(e)&&function(e){return 0===e.width&&0===e.height}(e))throw new DOMException("The image bitmap is closed.","InvalidStateError");const{width:t,height:r}=l(e);if(0===t||0===r)return null;const n=function(e,t){try{const r=new OffscreenCanvas(e,t);if(r.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return r;throw new Error("OffscreenCanvasRenderingContext2D is not supported")}catch{const r=document.createElement("canvas");return r.width=e,r.height=t,r}}(t,r),o=n.getContext("2d");o.drawImage(e,0,0);const a=o.getImageData(0,0,t,r);return p(n)&&n.remove(),a}async function m(e){if(function(e){try{return e instanceof Blob}catch{return!1}}(e))return await async function(e){let t;try{t=await createImageBitmap(e)}catch(e){throw e}return await v(t)}(e);if(function(e){try{return e instanceof ImageData}catch{return!1}}(e)){if(function(e){return 0===e.byteLength}(e.data.buffer))throw new DOMException("The corresponding array buffer is detached.","InvalidStateError");return e}return await v(e)}const y=e=>{let t;const r=new Set,n=(e,n)=>{const o="function"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=n??"object"!=typeof o?o:Object.assign({},t,o),r.forEach((r=>r(t,e)))}},o=()=>t,a={setState:n,getState:o,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{r.clear()}};return t=e(n,o,a),a},g={locateFile:(e,t)=>{var r;const n=null==(r=e.match(new RegExp("(?<=_).+?(?=\\.wasm$)")))?void 0:r[0];return n?`https://cdn.jsdelivr.net/npm/@sec-ant/zxing-wasm@2.1.2/dist/${n}/${e}`:t+e}},w=(b?y(b):y)((()=>({zxingModuleWeakMap:new WeakMap,zxingModuleOverrides:g})));var b;function C(e){w.setState({zxingModuleOverrides:e})}function _(e,t=w.getState().zxingModuleOverrides){const{zxingModuleWeakMap:r}=w.getState(),n=r.get(e);if(n&&Object.is(t,w.getState().zxingModuleOverrides))return n;{w.setState({zxingModuleOverrides:t});const n=e(t);return r.set(e,n),n}}const $=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","UPC-A","UPC-E"],T={tryHarder:!0,formats:[],maxSymbols:255};function S(e){const t=P(e);let r=0,n=$.length-1;for(;r<=n;){const e=Math.floor((r+n)/2),o=$[e],a=P(o);if(a===t)return o;a<t?r=e+1:n=e-1}return"None"}function P(e){return e.toLowerCase().replace(/_-\[\]/g,"")}var E=(()=>{var e="file:///E:/_my/code/_my/web-2fa/node_modules/vue-qrcode-reader/dist/vue-qrcode-reader.js";return function(t={}){var r,n,o=t;o.ready=new Promise(((e,t)=>{r=e,n=t}));var a=Object.assign({},o),i="./this.program",s="object"==typeof window,c="function"==typeof importScripts;"object"==typeof process&&"object"==typeof process.versions&&process.versions.node;var u,l="";(s||c)&&(c?l=self.location.href:typeof document<"u"&&document.currentScript&&(l=document.currentScript.src),e&&(l=e),l=0!==l.indexOf("blob:")?l.substr(0,l.replace(/[?#].*/,"").lastIndexOf("/")+1):"",c&&(u=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),o.print||console.log.bind(console);var f,d=o.printErr||console.error.bind(console);Object.assign(o,a),a=null,o.arguments&&o.arguments,o.thisProgram&&(i=o.thisProgram),o.quit&&o.quit,o.wasmBinary&&(f=o.wasmBinary),o.noExitRuntime,"object"!=typeof WebAssembly&&D("no native wasm support detected");var p,h,v,m,y,g,w,b,C,_,$=!1;function T(){var e=p.buffer;o.HEAP8=v=new Int8Array(e),o.HEAP16=y=new Int16Array(e),o.HEAP32=w=new Int32Array(e),o.HEAPU8=m=new Uint8Array(e),o.HEAPU16=g=new Uint16Array(e),o.HEAPU32=b=new Uint32Array(e),o.HEAPF32=C=new Float32Array(e),o.HEAPF64=_=new Float64Array(e)}var S,P=[],E=[],O=[];var A=0,M=null;function D(e){o.onAbort&&o.onAbort(e),d(e="Aborted("+e+")"),$=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw n(t),t}var j,x,k="data:application/octet-stream;base64,";function R(e){return e.startsWith(k)}function F(e){if(e==j&&f)return new Uint8Array(f);if(u)return u(e);throw"both async and sync fetching of the wasm failed"}function W(e,t,r){return function(e){return f||!s&&!c||"function"!=typeof fetch?Promise.resolve().then((()=>F(e))):fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()})).catch((()=>F(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{d("failed to asynchronously prepare wasm: "+e),D(e)}))}o.locateFile?R(j="zxing_reader.wasm")||(x=j,j=o.locateFile?o.locateFile(x,l):l+x):j=new URL("/reader/zxing_reader.wasm",self.location).href;var I=e=>{for(;e.length>0;)e.shift()(o)},U=[],H=0;var L=0;function N(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){b[this.ptr+4>>2]=e},this.get_type=function(){return b[this.ptr+4>>2]},this.set_destructor=function(e){b[this.ptr+8>>2]=e},this.get_destructor=function(){return b[this.ptr+8>>2]},this.set_caught=function(e){e=e?1:0,v[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=v[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,v[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=v[this.ptr+13>>0]},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)},this.set_adjusted_ptr=function(e){b[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return b[this.ptr+16>>2]},this.get_exception_ptr=function(){if(Nt(this.get_type()))return b[this.excPtr>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}var z=e=>{var t=L;if(!t)return Ft(0),0;var r=new N(t);r.set_adjusted_ptr(t);var n=r.get_type();if(!n)return Ft(0),t;for(var o in e){var a=e[o];if(0===a||a===n)break;var i=r.ptr+16;if(Lt(a,n,i))return Ft(a),t}return Ft(n),t};var V={};function q(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function B(e){return this.fromWireType(w[e>>2])}var G={},Y={},J={},Q=void 0;function Z(e){throw new Q(e)}function K(e,t,r){function n(t){var n=r(t);n.length!==e.length&&Z("Mismatched type converter count");for(var o=0;o<e.length;++o)oe(e[o],n[o])}e.forEach((function(e){J[e]=t}));var o=new Array(t.length),a=[],i=0;t.forEach(((e,t)=>{Y.hasOwnProperty(e)?o[t]=Y[e]:(a.push(e),G.hasOwnProperty(e)||(G[e]=[]),G[e].push((()=>{o[t]=Y[e],++i===a.length&&n(o)})))})),0===a.length&&n(o)}function X(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${e}`)}}var ee=void 0;function te(e){for(var t="",r=e;m[r];)t+=ee[m[r++]];return t}var re=void 0;function ne(e){throw new re(e)}function oe(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(e,t,r={}){var n=t.name;if(e||ne(`type "${n}" must have a positive integer typeid pointer`),Y.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;ne(`Cannot register type '${n}' twice`)}if(Y[e]=t,delete J[e],G.hasOwnProperty(e)){var o=G[e];delete G[e],o.forEach((e=>e()))}}(e,t,r)}function ae(e){if(!(this instanceof Oe&&e instanceof Oe))return!1;for(var t=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=e.$$.ptrType.registeredClass,o=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)o=n.upcast(o),n=n.baseClass;return t===n&&r===o}function ie(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function se(e){ne(e.$$.ptrType.registeredClass.name+" instance already deleted")}var ce=!1;function ue(e){}function le(e){e.count.value-=1,0===e.count.value&&function(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}(e)}function fe(e,t,r){if(t===r)return e;if(void 0===r.baseClass)return null;var n=fe(e,t,r.baseClass);return null===n?null:r.downcast(n)}var de={};function pe(){return Object.keys(we).length}function he(){var e=[];for(var t in we)we.hasOwnProperty(t)&&e.push(we[t]);return e}var ve=[];function me(){for(;ve.length;){var e=ve.pop();e.$$.deleteScheduled=!1,e.delete()}}var ye=void 0;function ge(e){ye=e,ve.length&&ye&&ye(me)}var we={};function be(e,t){return t=function(e,t){for(void 0===t&&ne("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}(e,t),we[t]}function Ce(e,t){return(!t.ptrType||!t.ptr)&&Z("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!==!!t.smartPtr&&Z("Both smartPtrType and smartPtr must be specified"),t.count={value:1},$e(Object.create(e,{$$:{value:t}}))}function _e(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=be(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function o(){return this.isSmartPointer?Ce(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Ce(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var a,i=this.registeredClass.getActualType(t),s=de[i];if(!s)return o.call(this);a=this.isConst?s.constPointerType:s.pointerType;var c=fe(t,this.registeredClass,a.registeredClass);return null===c?o.call(this):this.isSmartPointer?Ce(a.registeredClass.instancePrototype,{ptrType:a,ptr:c,smartPtrType:this,smartPtr:e}):Ce(a.registeredClass.instancePrototype,{ptrType:a,ptr:c})}var $e=function(e){return typeof FinalizationRegistry>"u"?($e=e=>e,e):(ce=new FinalizationRegistry((e=>{le(e.$$)})),ue=e=>ce.unregister(e),($e=e=>{var t=e.$$;if(!!t.smartPtr){var r={$$:t};ce.register(e,r,e)}return e})(e))};function Te(){if(this.$$.ptr||se(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=$e(Object.create(Object.getPrototypeOf(this),{$$:{value:ie(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function Se(){this.$$.ptr||se(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ne("Object already scheduled for deletion"),ue(this),le(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Pe(){return!this.$$.ptr}function Ee(){return this.$$.ptr||se(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ne("Object already scheduled for deletion"),ve.push(this),1===ve.length&&ye&&ye(me),this.$$.deleteScheduled=!0,this}function Oe(){}var Ae=48,Me=57;function De(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=Ae&&t<=Me?`_${e}`:e}function je(e,t){return{[e=De(e)]:function(){return t.apply(this,arguments)}}[e]}function xe(e,t,r){if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||ne(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}}function ke(e,t,r){o.hasOwnProperty(e)?((void 0===r||void 0!==o[e].overloadTable&&void 0!==o[e].overloadTable[r])&&ne(`Cannot register public name '${e}' twice`),xe(o,e,e),o.hasOwnProperty(r)&&ne(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),o[e].overloadTable[r]=t):(o[e]=t,void 0!==r&&(o[e].numArguments=r))}function Re(e,t,r,n,o,a,i,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=o,this.getActualType=a,this.upcast=i,this.downcast=s,this.pureVirtualFunctions=[]}function Fe(e,t,r){for(;t!==r;)t.upcast||ne(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e}function We(e,t){if(null===t)return this.isReference&&ne(`null is not a valid ${this.name}`),0;t.$$||ne(`Cannot pass "${it(t)}" as a ${this.name}`),t.$$.ptr||ne(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass;return Fe(t.$$.ptr,r,this.registeredClass)}function Ie(e,t){var r;if(null===t)return this.isReference&&ne(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t.$$||ne(`Cannot pass "${it(t)}" as a ${this.name}`),t.$$.ptr||ne(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&ne(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass;if(r=Fe(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&ne("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:ne(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var o=t.clone();r=this.rawShare(r,at.toHandle((function(){o.delete()}))),null!==e&&e.push(this.rawDestructor,r)}break;default:ne("Unsupporting sharing policy")}return r}function Ue(e,t){if(null===t)return this.isReference&&ne(`null is not a valid ${this.name}`),0;t.$$||ne(`Cannot pass "${it(t)}" as a ${this.name}`),t.$$.ptr||ne(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&ne(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass;return Fe(t.$$.ptr,r,this.registeredClass)}function He(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function Le(e){this.rawDestructor&&this.rawDestructor(e)}function Ne(e){null!==e&&e.delete()}function ze(e,t,r,n,o,a,i,s,c,u,l){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=o,this.pointeeType=a,this.sharingPolicy=i,this.rawGetPointee=s,this.rawConstructor=c,this.rawShare=u,this.rawDestructor=l,o||void 0!==t.baseClass?this.toWireType=Ie:n?(this.toWireType=We,this.destructorFunction=null):(this.toWireType=Ue,this.destructorFunction=null)}function Ve(e,t,r){o.hasOwnProperty(e)||Z("Replacing nonexistant public symbol"),void 0!==o[e].overloadTable&&void 0!==r?o[e].overloadTable[r]=t:(o[e]=t,o[e].argCount=r)}var qe=[],Be=e=>{var t=qe[e];return t||(e>=qe.length&&(qe.length=e+1),qe[e]=t=S.get(e)),t},Ge=(e,t,r)=>e.includes("j")?((e,t,r)=>{var n=o["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)})(e,t,r):Be(t).apply(null,r),Ye=(e,t)=>{var r=[];return function(){return r.length=0,Object.assign(r,arguments),Ge(e,t,r)}};function Je(e,t){var r=(e=te(e)).includes("j")?Ye(e,t):Be(t);return"function"!=typeof r&&ne(`unknown function pointer with signature ${e}: ${t}`),r}var Qe=void 0;function Ze(e){var t=kt(e),r=te(t);return jt(t),r}function Ke(e,t){var r=[],n={};throw t.forEach((function e(t){if(!n[t]&&!Y[t]){if(J[t])return void J[t].forEach(e);r.push(t),n[t]=!0}})),new Qe(`${e}: `+r.map(Ze).join([", "]))}function Xe(e,t){for(var r=[],n=0;n<e;n++)r.push(b[t+4*n>>2]);return r}function et(e,t,r,n,o,a){var i=t.length;i<2&&ne("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var s=null!==t[1]&&null!==r,c=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){c=!0;break}var l="void"!==t[0].name,f=i-2,d=new Array(f),p=[],h=[];return function(){var r;arguments.length!==f&&ne(`function ${e} called with ${arguments.length} arguments, expected ${f} args!`),h.length=0,p.length=s?2:1,p[0]=o,s&&(r=t[1].toWireType(h,this),p[1]=r);for(var a=0;a<f;++a)d[a]=t[a+2].toWireType(h,arguments[a]),p.push(d[a]);return function(e){if(c)q(h);else for(var n=s?1:2;n<t.length;n++){var o=1===n?r:d[n-2];null!==t[n].destructorFunction&&t[n].destructorFunction(o)}if(l)return t[0].fromWireType(e)}(n.apply(null,p))}}function tt(){this.allocated=[void 0],this.freelist=[]}var rt=new tt;function nt(e){e>=rt.reserved&&0==--rt.get(e).refcount&&rt.free(e)}function ot(){for(var e=0,t=rt.reserved;t<rt.allocated.length;++t)void 0!==rt.allocated[t]&&++e;return e}var at={toValue:e=>(e||ne("Cannot use deleted val. handle = "+e),rt.get(e).value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return rt.allocate({refcount:1,value:e})}}};function it(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function st(e,t){switch(t){case 2:return function(e){return this.fromWireType(C[e>>2])};case 3:return function(e){return this.fromWireType(_[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function ct(e,t,r){switch(t){case 0:return r?function(e){return v[e]}:function(e){return m[e]};case 1:return r?function(e){return y[e>>1]}:function(e){return g[e>>1]};case 2:return r?function(e){return w[e>>2]}:function(e){return b[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var ut=(e,t,r,n)=>{if(!(n>0))return 0;for(var o=r,a=r+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i);if(s<=127){if(r>=a)break;t[r++]=s}else if(s<=2047){if(r+1>=a)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=a)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=a)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o},lt=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},ft=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,dt=(e,t)=>e?((e,t,r)=>{for(var n=t+r,o=t;e[o]&&!(o>=n);)++o;if(o-t>16&&e.buffer&&ft)return ft.decode(e.subarray(t,o));for(var a="";t<o;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var c=63&e[t++];if((i=224==(240&i)?(15&i)<<12|s<<6|c:(7&i)<<18|s<<12|c<<6|63&e[t++])<65536)a+=String.fromCharCode(i);else{var u=i-65536;a+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else a+=String.fromCharCode((31&i)<<6|s)}else a+=String.fromCharCode(i)}return a})(m,e,t):"";var pt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,ht=(e,t)=>{for(var r=e,n=r>>1,o=n+t/2;!(n>=o)&&g[n];)++n;if((r=n<<1)-e>32&&pt)return pt.decode(m.subarray(e,r));for(var a="",i=0;!(i>=t/2);++i){var s=y[e+2*i>>1];if(0==s)break;a+=String.fromCharCode(s)}return a},vt=(e,t,r)=>{if(void 0===r&&(r=2147483647),r<2)return 0;for(var n=t,o=(r-=2)<2*e.length?r/2:e.length,a=0;a<o;++a){var i=e.charCodeAt(a);y[t>>1]=i,t+=2}return y[t>>1]=0,t-n},mt=e=>2*e.length,yt=(e,t)=>{for(var r=0,n="";!(r>=t/4);){var o=w[e+4*r>>2];if(0==o)break;if(++r,o>=65536){var a=o-65536;n+=String.fromCharCode(55296|a>>10,56320|1023&a)}else n+=String.fromCharCode(o)}return n},gt=(e,t,r)=>{if(void 0===r&&(r=2147483647),r<4)return 0;for(var n=t,o=n+r-4,a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i>=55296&&i<=57343)i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a);if(w[t>>2]=i,(t+=4)+4>o)break}return w[t>>2]=0,t-n},wt=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t};var bt={};function Ct(){if("object"==typeof globalThis)return globalThis;function e(e){e.$$$embind_global$$$=e;var t="object"==typeof $$$embind_global$$$&&e.$$$embind_global$$$==e;return t||delete e.$$$embind_global$$$,t}if("object"==typeof $$$embind_global$$$||("object"==typeof global&&e(global)?$$$embind_global$$$=global:"object"==typeof self&&e(self)&&($$$embind_global$$$=self),"object"==typeof $$$embind_global$$$))return $$$embind_global$$$;throw Error("unable to get global object.")}function _t(e,t){var r=Y[e];return void 0===r&&ne(t+" has unknown type "+Ze(e)),r}var $t={};var Tt=e=>{var t=e-p.buffer.byteLength+65535>>>16;try{return p.grow(t),T(),1}catch{}},St={},Pt=()=>{if(!Pt.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:i||"./this.program"};for(var t in St)void 0===St[t]?delete e[t]:e[t]=St[t];var r=[];for(var t in e)r.push(`${t}=${e[t]}`);Pt.strings=r}return Pt.strings};var Et=e=>e%4==0&&(e%100!=0||e%400==0),Ot=[31,29,31,30,31,30,31,31,30,31,30,31],At=[31,28,31,30,31,30,31,31,30,31,30,31];var Mt=(e,t,r,n)=>{var o=w[n+40>>2],a={tm_sec:w[n>>2],tm_min:w[n+4>>2],tm_hour:w[n+8>>2],tm_mday:w[n+12>>2],tm_mon:w[n+16>>2],tm_year:w[n+20>>2],tm_wday:w[n+24>>2],tm_yday:w[n+28>>2],tm_isdst:w[n+32>>2],tm_gmtoff:w[n+36>>2],tm_zone:o?dt(o):""},i=dt(r),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var c in s)i=i.replace(new RegExp(c,"g"),s[c]);var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function f(e,t,r){for(var n="number"==typeof e?e.toString():e||"";n.length<t;)n=r[0]+n;return n}function d(e,t){return f(e,t,"0")}function p(e,t){function r(e){return e<0?-1:e>0?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function h(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function m(e){var t=((e,t)=>{for(var r=new Date(e.getTime());t>0;){var n=Et(r.getFullYear()),o=r.getMonth(),a=(n?Ot:At)[o];if(!(t>a-r.getDate()))return r.setDate(r.getDate()+t),r;t-=a-r.getDate()+1,r.setDate(1),o<11?r.setMonth(o+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r})(new Date(e.tm_year+1900,0,1),e.tm_yday),r=new Date(t.getFullYear(),0,4),n=new Date(t.getFullYear()+1,0,4),o=h(r),a=h(n);return p(o,t)<=0?p(a,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var y={"%a":e=>u[e.tm_wday].substring(0,3),"%A":e=>u[e.tm_wday],"%b":e=>l[e.tm_mon].substring(0,3),"%B":e=>l[e.tm_mon],"%C":e=>d((e.tm_year+1900)/100|0,2),"%d":e=>d(e.tm_mday,2),"%e":e=>f(e.tm_mday,2," "),"%g":e=>m(e).toString().substring(2),"%G":e=>m(e),"%H":e=>d(e.tm_hour,2),"%I":e=>{var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),d(t,2)},"%j":e=>d(e.tm_mday+((e,t)=>{for(var r=0,n=0;n<=t;r+=e[n++]);return r})(Et(e.tm_year+1900)?Ot:At,e.tm_mon-1),3),"%m":e=>d(e.tm_mon+1,2),"%M":e=>d(e.tm_min,2),"%n":()=>"\n","%p":e=>e.tm_hour>=0&&e.tm_hour<12?"AM":"PM","%S":e=>d(e.tm_sec,2),"%t":()=>"\t","%u":e=>e.tm_wday||7,"%U":e=>{var t=e.tm_yday+7-e.tm_wday;return d(Math.floor(t/7),2)},"%V":e=>{var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t){if(53==t){var r=(e.tm_wday+371-e.tm_yday)%7;4!=r&&(3!=r||!Et(e.tm_year))&&(t=1)}}else{t=52;var n=(e.tm_wday+7-e.tm_yday-1)%7;(4==n||5==n&&Et(e.tm_year%400-1))&&t++}return d(t,2)},"%w":e=>e.tm_wday,"%W":e=>{var t=e.tm_yday+7-(e.tm_wday+6)%7;return d(Math.floor(t/7),2)},"%y":e=>(e.tm_year+1900).toString().substring(2),"%Y":e=>e.tm_year+1900,"%z":e=>{var t=e.tm_gmtoff;return(t>=0?"+":"-")+("0000"+(t=(t=Math.abs(t)/60)/60*100+t%60)).slice(-4)},"%Z":e=>e.tm_zone,"%%":()=>"%"};for(var c in i=i.replace(/%%/g,"\0\0"),y)i.includes(c)&&(i=i.replace(new RegExp(c,"g"),y[c](a)));var g=function(e,t,r){var n=r>0?r:lt(e)+1,o=new Array(n),a=ut(e,o,0,o.length);return t&&(o.length=a),o}(i=i.replace(/\0\0/g,"%"),!1);return g.length>t?0:(((e,t)=>{v.set(e,t)})(g,e),g.length-1)};Q=o.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},function(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);ee=e}(),re=o.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Oe.prototype.isAliasOf=ae,Oe.prototype.clone=Te,Oe.prototype.delete=Se,Oe.prototype.isDeleted=Pe,Oe.prototype.deleteLater=Ee,o.getInheritedInstanceCount=pe,o.getLiveInheritedInstances=he,o.flushPendingDeletes=me,o.setDelayFunction=ge,ze.prototype.getPointee=He,ze.prototype.destructor=Le,ze.prototype.argPackAdvance=8,ze.prototype.readValueFromPointer=B,ze.prototype.deleteObject=Ne,ze.prototype.fromWireType=_e,Qe=o.UnboundTypeError=function(e,t){var r=je(t,(function(e){this.name=t,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))}));return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},r}(Error,"UnboundTypeError"),Object.assign(tt.prototype,{get(e){return this.allocated[e]},has(e){return void 0!==this.allocated[e]},allocate(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},free(e){this.allocated[e]=void 0,this.freelist.push(e)}}),rt.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),rt.reserved=rt.allocated.length,o.count_emval_handles=ot;var Dt={q:function(e){var t=new N(e);return t.get_caught()||(t.set_caught(!0),H--),t.set_rethrown(!1),U.push(t),Ht(t.excPtr),t.get_exception_ptr()},u:function(){Rt(0,0);var e=U.pop();Ut(e.excPtr),L=0},a:()=>z([]),h:e=>z([e]),l:(e,t)=>z([e,t]),I:function(e){return new N(e).get_exception_ptr()},P:function(){var e=U.pop();e||D("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(U.push(e),e.set_rethrown(!0),e.set_caught(!1),H++),L=t},n:function(e,t,r){throw new N(e).init(t,r),H++,L=e},ba:function(){return H},d:function(e){throw L||(L=e),L},oa:function(e){var t=V[e];delete V[e];var r=t.rawConstructor,n=t.rawDestructor,o=t.fields;K([e],o.map((e=>e.getterReturnType)).concat(o.map((e=>e.setterArgumentType))),(e=>{var a={};return o.forEach(((t,r)=>{var n=t.fieldName,i=e[r],s=t.getter,c=t.getterContext,u=e[r+o.length],l=t.setter,f=t.setterContext;a[n]={read:e=>i.fromWireType(s(c,e)),write:(e,t)=>{var r=[];l(f,e,u.toWireType(r,t)),q(r)}}})),[{name:t.name,fromWireType:function(e){var t={};for(var r in a)t[r]=a[r].read(e);return n(e),t},toWireType:function(e,t){for(var o in a)if(!(o in t))throw new TypeError(`Missing field: "${o}"`);var i=r();for(o in a)a[o].write(i,t[o]);return null!==e&&e.push(n,i),i},argPackAdvance:8,readValueFromPointer:B,destructorFunction:n}]}))},Y:function(e,t,r,n,o){},fa:function(e,t,r,n,o){var a=X(r);oe(e,{name:t=te(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:o},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===r)n=v;else if(2===r)n=y;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+t);n=w}return this.fromWireType(n[e>>a])},destructorFunction:null})},na:function(e,t,r,n,o,a,i,s,c,u,l,f,d){l=te(l),a=Je(o,a),s&&(s=Je(i,s)),u&&(u=Je(c,u)),d=Je(f,d);var p=De(l);ke(p,(function(){Ke(`Cannot construct ${l} due to unbound types`,[n])})),K([e,t,r],n?[n]:[],(function(t){var r,o;t=t[0],n?o=(r=t.registeredClass).instancePrototype:o=Oe.prototype;var i=je(p,(function(){if(Object.getPrototypeOf(this)!==c)throw new re("Use 'new' to construct "+l);if(void 0===f.constructor_body)throw new re(l+" has no accessible constructor");var e=f.constructor_body[arguments.length];if(void 0===e)throw new re(`Tried to invoke ctor of ${l} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(f.constructor_body).toString()}) parameters instead!`);return e.apply(this,arguments)})),c=Object.create(o,{constructor:{value:i}});i.prototype=c;var f=new Re(l,i,c,d,r,a,s,u);f.baseClass&&(void 0===f.baseClass.__derivedClasses&&(f.baseClass.__derivedClasses=[]),f.baseClass.__derivedClasses.push(f));var h=new ze(l,f,!0,!1,!1),v=new ze(l+"*",f,!1,!1,!1),m=new ze(l+" const*",f,!1,!0,!1);return de[e]={pointerType:v,constPointerType:m},Ve(p,i),[h,v,m]}))},ma:function(e,t,r,n,o,a){var i=Xe(t,r);o=Je(n,o),K([],[e],(function(e){var r=`constructor ${(e=e[0]).name}`;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new re(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${e.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return e.registeredClass.constructor_body[t-1]=()=>{Ke(`Cannot construct ${e.name} due to unbound types`,i)},K([],i,(function(n){return n.splice(1,0,null),e.registeredClass.constructor_body[t-1]=et(r,n,null,o,a),[]})),[]}))},D:function(e,t,r,n,o,a,i,s,c){var u=Xe(r,n);t=te(t),a=Je(o,a),K([],[e],(function(e){var n=`${(e=e[0]).name}.${t}`;function o(){Ke(`Cannot call ${n} due to unbound types`,u)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]),s&&e.registeredClass.pureVirtualFunctions.push(t);var c=e.registeredClass.instancePrototype,l=c[t];return void 0===l||void 0===l.overloadTable&&l.className!==e.name&&l.argCount===r-2?(o.argCount=r-2,o.className=e.name,c[t]=o):(xe(c,t,n),c[t].overloadTable[r-2]=o),K([],u,(function(o){var s=et(n,o,e,a,i);return void 0===c[t].overloadTable?(s.argCount=r-2,c[t]=s):c[t].overloadTable[r-2]=s,[]})),[]}))},ea:function(e,t){oe(e,{name:t=te(t),fromWireType:function(e){var t=at.toValue(e);return nt(e),t},toWireType:function(e,t){return at.toHandle(t)},argPackAdvance:8,readValueFromPointer:B,destructorFunction:null})},W:function(e,t,r){var n=X(r);oe(e,{name:t=te(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:st(t,n),destructorFunction:null})},J:function(e,t,r,n,o,a,i){var s=Xe(t,r);e=te(e),o=Je(n,o),ke(e,(function(){Ke(`Cannot call ${e} due to unbound types`,s)}),t-1),K([],s,(function(r){var n=[r[0],null].concat(r.slice(1));return Ve(e,et(e,n,null,o,a),t-1),[]}))},w:function(e,t,r,n,o){t=te(t);var a=X(r),i=e=>e;if(0===n){var s=32-8*r;i=e=>e<<s>>>s}var c=t.includes("unsigned");oe(e,{name:t,fromWireType:i,toWireType:c?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:8,readValueFromPointer:ct(t,a,0!==n),destructorFunction:null})},s:function(e,t,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function o(e){var t=b,r=t[e>>=2],o=t[e+1];return new n(t.buffer,o,r)}oe(e,{name:r=te(r),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},V:function(e,t){var r="std::string"===(t=te(t));oe(e,{name:t,fromWireType:function(e){var t,n=b[e>>2],o=e+4;if(r)for(var a=o,i=0;i<=n;++i){var s=o+i;if(i==n||0==m[s]){var c=dt(a,s-a);void 0===t?t=c:(t+=String.fromCharCode(0),t+=c),a=s+1}}else{var u=new Array(n);for(i=0;i<n;++i)u[i]=String.fromCharCode(m[o+i]);t=u.join("")}return jt(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n,o="string"==typeof t;o||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||ne("Cannot pass non-string to std::string"),n=r&&o?lt(t):t.length;var a=xt(4+n+1),i=a+4;if(b[a>>2]=n,r&&o)((e,t,r)=>{ut(e,m,t,r)})(t,i,n+1);else if(o)for(var s=0;s<n;++s){var c=t.charCodeAt(s);c>255&&(jt(i),ne("String has UTF-16 code units that do not fit in 8 bits")),m[i+s]=c}else for(s=0;s<n;++s)m[i+s]=t[s];return null!==e&&e.push(jt,a),a},argPackAdvance:8,readValueFromPointer:B,destructorFunction:function(e){jt(e)}})},L:function(e,t,r){var n,o,a,i,s;r=te(r),2===t?(n=ht,o=vt,i=mt,a=()=>g,s=1):4===t&&(n=yt,o=gt,i=wt,a=()=>b,s=2),oe(e,{name:r,fromWireType:function(e){for(var r,o=b[e>>2],i=a(),c=e+4,u=0;u<=o;++u){var l=e+4+u*t;if(u==o||0==i[l>>s]){var f=n(c,l-c);void 0===r?r=f:(r+=String.fromCharCode(0),r+=f),c=l+t}}return jt(e),r},toWireType:function(e,n){"string"!=typeof n&&ne(`Cannot pass non-string to C++ string type ${r}`);var a=i(n),c=xt(4+a+t);return b[c>>2]=a>>s,o(n,c+4,a+t),null!==e&&e.push(jt,c),c},argPackAdvance:8,readValueFromPointer:B,destructorFunction:function(e){jt(e)}})},Q:function(e,t,r,n,o,a){V[e]={name:te(t),rawConstructor:Je(r,n),rawDestructor:Je(o,a),fields:[]}},pa:function(e,t,r,n,o,a,i,s,c,u){V[e].fields.push({fieldName:te(t),getterReturnType:r,getter:Je(n,o),getterContext:a,setterArgumentType:i,setter:Je(s,c),setterContext:u})},ga:function(e,t){oe(e,{isVoid:!0,name:t=te(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})},U:nt,la:function(e){return 0===e?at.toHandle(Ct()):(e=function(e){var t=bt[e];return void 0===t?te(e):t}(e),at.toHandle(Ct()[e]))},R:function(e){e>4&&(rt.get(e).refcount+=1)},ia:function(e,t,r,n){e=at.toValue(e);var o=$t[t];return o||(o=function(e){var t=new Array(e+1);return function(r,n,o){t[0]=r;for(var a=0;a<e;++a){var i=_t(b[n+4*a>>2],"parameter "+a);t[a+1]=i.readValueFromPointer(o),o+=i.argPackAdvance}var s=new(r.bind.apply(r,t));return at.toHandle(s)}}(t),$t[t]=o),o(e,r,n)},ka:function(e,t){var r=(e=_t(e,"_emval_take_value")).readValueFromPointer(t);return at.toHandle(r)},K:()=>{D("")},da:(e,t,r)=>m.copyWithin(e,t,t+r),ca:e=>{var t,r,n=m.length,o=2147483648;if((e>>>=0)>o)return!1;for(var a=1;a<=4;a*=2){var i=n*(1+.2/a);i=Math.min(i,e+100663296);var s=Math.min(o,(t=Math.max(e,i))+((r=65536)-t%r)%r);if(Tt(s))return!0}return!1},$:(e,t)=>{var r=0;return Pt().forEach((function(n,o){var a=t+r;b[e+4*o>>2]=a,((e,t)=>{for(var r=0;r<e.length;++r)v[t++>>0]=e.charCodeAt(r);v[t>>0]=0})(n,a),r+=n.length+1})),0},aa:(e,t)=>{var r=Pt();b[e>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),b[t>>2]=n,0},H:function(e,t,r,n){var o=Wt();try{return Be(e)(t,r,n)}catch(e){if(It(o),e!==e+0)throw e;Rt(1,0)}},T:function(e,t,r,n){var o=Wt();try{return Be(e)(t,r,n)}catch(e){if(It(o),e!==e+0)throw e;Rt(1,0)}},B:function(e,t,r,n,o,a){var i=Wt();try{return Be(e)(t,r,n,o,a)}catch(e){if(It(i),e!==e+0)throw e;Rt(1,0)}},p:function(e){var t=Wt();try{return Be(e)()}catch(e){if(It(t),e!==e+0)throw e;Rt(1,0)}},b:function(e,t){var r=Wt();try{return Be(e)(t)}catch(e){if(It(r),e!==e+0)throw e;Rt(1,0)}},C:function(e,t,r,n){var o=Wt();try{return Be(e)(t,r,n)}catch(e){if(It(o),e!==e+0)throw e;Rt(1,0)}},ha:function(e,t,r){var n=Wt();try{return Be(e)(t,r)}catch(e){if(It(n),e!==e+0)throw e;Rt(1,0)}},c:function(e,t,r){var n=Wt();try{return Be(e)(t,r)}catch(e){if(It(n),e!==e+0)throw e;Rt(1,0)}},j:function(e,t,r,n){var o=Wt();try{return Be(e)(t,r,n)}catch(e){if(It(o),e!==e+0)throw e;Rt(1,0)}},i:function(e,t,r,n,o){var a=Wt();try{return Be(e)(t,r,n,o)}catch(e){if(It(a),e!==e+0)throw e;Rt(1,0)}},x:function(e,t,r,n,o,a){var i=Wt();try{return Be(e)(t,r,n,o,a)}catch(e){if(It(i),e!==e+0)throw e;Rt(1,0)}},O:function(e,t,r,n,o,a,i){var s=Wt();try{return Be(e)(t,r,n,o,a,i)}catch(e){if(It(s),e!==e+0)throw e;Rt(1,0)}},v:function(e,t,r,n,o,a,i){var s=Wt();try{return Be(e)(t,r,n,o,a,i)}catch(e){if(It(s),e!==e+0)throw e;Rt(1,0)}},G:function(e,t,r,n,o,a,i,s){var c=Wt();try{return Be(e)(t,r,n,o,a,i,s)}catch(e){if(It(c),e!==e+0)throw e;Rt(1,0)}},N:function(e,t,r,n,o,a,i,s,c){var u=Wt();try{return Be(e)(t,r,n,o,a,i,s,c)}catch(e){if(It(u),e!==e+0)throw e;Rt(1,0)}},A:function(e,t,r,n,o,a,i,s,c,u){var l=Wt();try{return Be(e)(t,r,n,o,a,i,s,c,u)}catch(e){if(It(l),e!==e+0)throw e;Rt(1,0)}},F:function(e,t,r,n,o,a,i,s,c,u,l,f){var d=Wt();try{return Be(e)(t,r,n,o,a,i,s,c,u,l,f)}catch(e){if(It(d),e!==e+0)throw e;Rt(1,0)}},Z:function(e,t,r,n){var o=Wt();try{return Vt(e,t,r,n)}catch(e){if(It(o),e!==e+0)throw e;Rt(1,0)}},X:function(e,t,r,n,o){var a=Wt();try{return qt(e,t,r,n,o)}catch(e){if(It(a),e!==e+0)throw e;Rt(1,0)}},k:function(e){var t=Wt();try{Be(e)()}catch(e){if(It(t),e!==e+0)throw e;Rt(1,0)}},f:function(e,t){var r=Wt();try{Be(e)(t)}catch(e){if(It(r),e!==e+0)throw e;Rt(1,0)}},e:function(e,t,r){var n=Wt();try{Be(e)(t,r)}catch(e){if(It(n),e!==e+0)throw e;Rt(1,0)}},g:function(e,t,r,n){var o=Wt();try{Be(e)(t,r,n)}catch(e){if(It(o),e!==e+0)throw e;Rt(1,0)}},M:function(e,t,r,n,o,a,i){var s=Wt();try{Be(e)(t,r,n,o,a,i)}catch(e){if(It(s),e!==e+0)throw e;Rt(1,0)}},m:function(e,t,r,n,o){var a=Wt();try{Be(e)(t,r,n,o)}catch(e){if(It(a),e!==e+0)throw e;Rt(1,0)}},o:function(e,t,r,n,o,a){var i=Wt();try{Be(e)(t,r,n,o,a)}catch(e){if(It(i),e!==e+0)throw e;Rt(1,0)}},S:function(e,t,r,n,o,a,i){var s=Wt();try{Be(e)(t,r,n,o,a,i)}catch(e){if(It(s),e!==e+0)throw e;Rt(1,0)}},t:function(e,t,r,n,o,a,i,s){var c=Wt();try{Be(e)(t,r,n,o,a,i,s)}catch(e){if(It(c),e!==e+0)throw e;Rt(1,0)}},ja:function(e,t,r,n,o,a,i,s,c){var u=Wt();try{Be(e)(t,r,n,o,a,i,s,c)}catch(e){if(It(u),e!==e+0)throw e;Rt(1,0)}},y:function(e,t,r,n,o,a,i,s,c,u){var l=Wt();try{Be(e)(t,r,n,o,a,i,s,c,u)}catch(e){if(It(l),e!==e+0)throw e;Rt(1,0)}},r:function(e,t,r,n,o,a,i,s,c,u,l){var f=Wt();try{Be(e)(t,r,n,o,a,i,s,c,u,l)}catch(e){if(It(f),e!==e+0)throw e;Rt(1,0)}},E:function(e,t,r,n,o,a,i,s,c,u,l,f,d,p,h,v){var m=Wt();try{Be(e)(t,r,n,o,a,i,s,c,u,l,f,d,p,h,v)}catch(e){if(It(m),e!==e+0)throw e;Rt(1,0)}},z:function(e){return e},_:(e,t,r,n,o)=>Mt(e,t,r,n)};!function(){var e={a:Dt};function t(e,t){var r=e.exports;return p=(h=r).qa,T(),S=h.ua,function(e){E.unshift(e)}(h.ra),function(e){if(A--,o.monitorRunDependencies&&o.monitorRunDependencies(A),0==A&&M){var t=M;M=null,t()}}(),r}if(A++,o.monitorRunDependencies&&o.monitorRunDependencies(A),o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(e){d("Module.instantiateWasm callback failed with error: "+e),n(e)}(function(e,t,r,n){return e||"function"!=typeof WebAssembly.instantiateStreaming||R(t)||"function"!=typeof fetch?W(t,r,n):fetch(t,{credentials:"same-origin"}).then((e=>WebAssembly.instantiateStreaming(e,r).then(n,(function(e){return d("wasm streaming compile failed: "+e),d("falling back to ArrayBuffer instantiation"),W(t,r,n)}))))})(f,j,e,(function(e){t(e.instance)})).catch(n)}();var jt=o._free=e=>(jt=o._free=h.sa)(e),xt=o._malloc=e=>(xt=o._malloc=h.ta)(e),kt=e=>(kt=h.va)(e);o.__embind_initialize_bindings=()=>(o.__embind_initialize_bindings=h.wa)();var Rt=(e,t)=>(Rt=h.xa)(e,t),Ft=e=>(Ft=h.ya)(e),Wt=()=>(Wt=h.za)(),It=e=>(It=h.Aa)(e),Ut=e=>(Ut=h.Ba)(e),Ht=e=>(Ht=h.Ca)(e),Lt=(e,t,r)=>(Lt=h.Da)(e,t,r),Nt=e=>(Nt=h.Ea)(e);o.dynCall_viijii=(e,t,r,n,a,i,s)=>(o.dynCall_viijii=h.Fa)(e,t,r,n,a,i,s);var zt,Vt=o.dynCall_jiii=(e,t,r,n)=>(Vt=o.dynCall_jiii=h.Ga)(e,t,r,n),qt=o.dynCall_jiiii=(e,t,r,n,a)=>(qt=o.dynCall_jiiii=h.Ha)(e,t,r,n,a);function Bt(){function e(){zt||(zt=!0,o.calledRun=!0,!$&&(I(E),r(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),O.unshift(e);var e;I(O)}()))}A>0||(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),P.unshift(e);var e;I(P)}(),A>0)||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),e()}),1)):e())}if(o.dynCall_iiiiij=(e,t,r,n,a,i,s)=>(o.dynCall_iiiiij=h.Ia)(e,t,r,n,a,i,s),o.dynCall_iiiiijj=(e,t,r,n,a,i,s,c,u)=>(o.dynCall_iiiiijj=h.Ja)(e,t,r,n,a,i,s,c,u),o.dynCall_iiiiiijj=(e,t,r,n,a,i,s,c,u,l)=>(o.dynCall_iiiiiijj=h.Ka)(e,t,r,n,a,i,s,c,u,l),M=function e(){zt||Bt(),zt||(M=e)},o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return Bt(),t.ready}})();function O(e){return _(E,e)}async function A(e,{tryHarder:t=T.tryHarder,formats:r=T.formats,maxSymbols:n=T.maxSymbols}=T){return async function(e,{tryHarder:t=T.tryHarder,formats:r=T.formats,maxSymbols:n=T.maxSymbols}=T,o){const a=await _(o,w.getState().zxingModuleOverrides),{data:i,width:s,height:c,data:{byteLength:u}}=e,l=a._malloc(u);a.HEAP8.set(i,l);const f=a.readBarcodesFromPixmap(l,s,c,t,function(e){return e.join("|")}(r),n);a._free(l);const d=[];for(let e=0;e<f.size();++e){const t=f.get(e);d.push({...t,format:S(t.format)})}return d}(e,{tryHarder:t,formats:r,maxSymbols:n},E)}const M=new Map([["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["data_matrix","DataMatrix"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["pdf417","PDF417"],["qr_code","QRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"]]);function D(e){for(const[t,r]of M)if(e===r)return t;return"unknown"}var j;class x{constructor(e={}){var t,r;if(((e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)})(this,j,void 0),0===(null==(t=null==e?void 0:e.formats)?void 0:t.length))throw new TypeError("formats cannot be empty");null==(r=null==e?void 0:e.formats)||r.forEach((e=>{if("unknown"===e)throw new TypeError("format unknown is not supported");if(!u.includes(e))throw new TypeError(`format ${e} is not supported`)})),O(),((e,t,r,n)=>{s(e,t,"write to private field"),n?n.call(e,r):t.set(e,r)})(this,j,(null==e?void 0:e.formats)??[])}static async getSupportedFormats(){return await O(),u.filter((e=>"unknown"!==e))}async detect(e){const t=await m(e);return null===t?[]:(await A(t,{tryHarder:!0,formats:c(this,j).map((e=>M.get(e)))})).map((e=>{const{topLeft:{x:t,y:r},topRight:{x:n,y:o},bottomLeft:{x:a,y:i},bottomRight:{x:s,y:c}}=e.position,u=Math.min(t,n,a,s),l=Math.min(r,o,i,c),f=Math.max(t,n,a,s),d=Math.max(r,o,i,c);return{boundingBox:new DOMRectReadOnly(u,l,f-u,d-l),rawValue:e.text,format:D(e.format),cornerPoints:[{x:t,y:r},{x:n,y:o},{x:s,y:c},{x:a,y:i}]}}))}}j=new WeakMap;const k=(e,t,r="error")=>{let n,o;const a=new Promise(((a,i)=>{n=a,o=i,e.addEventListener(t,n),e.addEventListener(r,o)}));return a.finally((()=>{e.removeEventListener(t,n),e.removeEventListener(r,o)})),a},R=e=>new Promise((t=>setTimeout(t,e)));class F extends Error{constructor(){super("can't process cross-origin image"),this.name="DropImageFetchError"}}class W extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class I extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class U extends Error{constructor(){super("Loading camera stream timed out after 3 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}let H;const L=e=>{H=new x({formats:e})},N=async(e,t=["qr_code"])=>await new x({formats:t}).detect(e),z=async(e,t=["qr_code"])=>{const r=new x({formats:t}),n=await(async e=>{if(e.startsWith("http")&&!1===e.includes(location.host))throw new F;const t=document.createElement("img");return t.src=e,await k(t,"load"),t})(e);return await r.detect(n)};var V={},q={};Object.defineProperty(q,"__esModule",{value:!0}),q.compactObject=function e(t){return Z(t)?Object.keys(t).reduce((function(r,n){var o=Z(t[n]),a=o?e(t[n]):t[n],i=o&&!Object.keys(a).length;return void 0===a||i?r:Object.assign(r,function(e,t,r){return t=function(e){var t=function(e,t){if("object"!==G(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===G(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},n,a))}),{}):t},q.deprecated=function(e,t){J&&console.warn(e+" is deprecated, please use "+t+" instead.")};var B=q.detectBrowser=function(e){var t={browser:null,version:null};if(typeof e>"u"||!e.navigator)return t.browser="Not a browser.",t;var r=e.navigator;if(r.mozGetUserMedia)t.browser="firefox",t.version=Q(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=Q(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!r.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=Q(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t};function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}q.disableLog=function(e){return"boolean"!=typeof e?new Error("Argument type: "+G(e)+". Please use a boolean."):(Y=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},q.disableWarnings=function(e){return"boolean"!=typeof e?new Error("Argument type: "+G(e)+". Please use a boolean."):(J=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},q.extractVersion=Q,q.filterStats=function(e,t,r){var n=r?"outbound-rtp":"inbound-rtp",o=new Map;if(null===t)return o;var a=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)})),a.forEach((function(t){e.forEach((function(r){r.type===n&&r.trackId===t.id&&K(e,r,o)}))})),o},q.log=function(){if("object"===(typeof window>"u"?"undefined":G(window))){if(Y)return;typeof console<"u"&&"function"==typeof console.log&&console.log.apply(console,arguments)}},q.walkStats=K,q.wrapPeerConnectionEvent=function(e,t,r){if(e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype,o=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return o.apply(this,arguments);var a=function(e){var t=r(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,a),o.apply(this,[e,a])};var a=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[t])return a.apply(this,arguments);if(!this._eventMap[t].has(r))return a.apply(this,arguments);var n=this._eventMap[t].get(r);return this._eventMap[t].delete(r),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,a.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}};var Y=!0,J=!0;function Q(e,t,r){var n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function Z(e){return"[object Object]"===Object.prototype.toString.call(e)}function K(e,t,r){!t||r.has(t.id)||(r.set(t.id,t),Object.keys(t).forEach((function(n){n.endsWith("Id")?K(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach((function(t){K(e,e.get(t),r)}))})))}Object.defineProperty(V,"__esModule",{value:!0});var X=V.shimGetUserMedia=function(e,t){var r=e&&e.navigator;if(r.mediaDevices){var n=function(e){if("object"!==re(e)||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var n="object"===re(e[r])?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];var a={};"number"==typeof n.ideal?(a[o("min",r)]=n.ideal,t.optional.push(a),(a={})[o("max",r)]=n.ideal,t.optional.push(a)):(a[o("",r)]=n.ideal,t.optional.push(a))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",r)]=n.exact):["min","max"].forEach((function(e){void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,r)]=n[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,o){if(t.version>=61)return o(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===re(e.audio)){var a=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};a((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),a(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"===re(e.video)){var i=e.video.facingMode;i=i&&("object"===re(i)?i:{ideal:i});var s,c=t.version<66;if(i&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!r.mediaDevices.getSupportedConstraints||!r.mediaDevices.getSupportedConstraints().facingMode||c))if(delete e.video.facingMode,"environment"===i.exact||"environment"===i.ideal?s=["back","rear"]:("user"===i.exact||"user"===i.ideal)&&(s=["front"]),s)return r.mediaDevices.enumerateDevices().then((function(t){var r=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return s.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!r&&t.length&&s.includes("back")&&(r=t[t.length-1]),r&&(e.video.deviceId=i.exact?{exact:r.deviceId}:{ideal:r.deviceId}),e.video=n(e.video),ne("chrome: "+JSON.stringify(e)),o(e)}));e.video=n(e.video)}return ne("chrome: "+JSON.stringify(e)),o(e)},a=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(r.getUserMedia=function(e,t,n){o(e,(function(e){r.webkitGetUserMedia(e,t,(function(e){n&&n(a(e))}))}))}.bind(r),r.mediaDevices.getUserMedia){var i=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(e){return o(e,(function(e){return i(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(a(e))}))}))}}}},ee=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==re(e)&&"function"!=typeof e)return{default:e};var r=te(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(q);function te(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(te=function(e){return e?r:t})(e)}function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ne=ee.log;var oe={};Object.defineProperty(oe,"__esModule",{value:!0});var ae=oe.shimGetUserMedia=function(e,t){var r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,n){ie.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){var o=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},a=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(e){return"object"===ce(e)&&"object"===ce(e.audio)&&(e=JSON.parse(JSON.stringify(e)),o(e.audio,"autoGainControl","mozAutoGainControl"),o(e.audio,"noiseSuppression","mozNoiseSuppression")),a(e)},n&&n.prototype.getSettings){var i=n.prototype.getSettings;n.prototype.getSettings=function(){var e=i.apply(this,arguments);return o(e,"mozAutoGainControl","autoGainControl"),o(e,"mozNoiseSuppression","noiseSuppression"),e}}if(n&&n.prototype.applyConstraints){var s=n.prototype.applyConstraints;n.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===ce(e)&&(e=JSON.parse(JSON.stringify(e)),o(e,"autoGainControl","mozAutoGainControl"),o(e,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[e])}}}},ie=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==ce(e)&&"function"!=typeof e)return{default:e};var r=se(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(q);function se(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(se=function(e){return e?r:t})(e)}function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ue={};Object.defineProperty(ue,"__esModule",{value:!0}),ue.shimAudioContext=function(e){"object"!==pe(e)||e.AudioContext||(e.AudioContext=e.webkitAudioContext)},ue.shimCallbacksAPI=function(e){if("object"===pe(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,o=t.setLocalDescription,a=t.setRemoteDescription,i=t.addIceCandidate;t.createOffer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],o=r.apply(this,[n]);return t?(o.then(e,t),Promise.resolve()):o},t.createAnswer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[r]);return t?(o.then(e,t),Promise.resolve()):o};var s=function(e,t,r){var n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=s,s=function(e,t,r){var n=a.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.setRemoteDescription=s,s=function(e,t,r){var n=i.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=s}},ue.shimConstraints=he,ue.shimCreateOfferLegacy=function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){typeof e.offerToReceiveAudio<"u"&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0===e.offerToReceiveAudio&&!r&&this.addTransceiver("audio",{direction:"recvonly"}),typeof e.offerToReceiveVideo<"u"&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var n=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0===e.offerToReceiveVideo&&!n&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}};var le=ue.shimGetUserMedia=function(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var r=t.mediaDevices,n=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=function(e){return n(he(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t))};ue.shimLocalStreamsAPI=function(e){if("object"===pe(e)&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(n){return t.call(r,n,e)})),e.getVideoTracks().forEach((function(n){return t.call(r,n,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var r=this,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return o&&o.forEach((function(e){r._localStreams?r._localStreams.includes(e)||r._localStreams.push(e):r._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(e);if(-1!==r){this._localStreams.splice(r,1);var n=e.getTracks();this.getSenders().forEach((function(e){n.includes(e.track)&&t.removeTrack(e)}))}})}},ue.shimRTCIceServerUrls=function(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){for(var n=[],o=0;o<e.iceServers.length;o++){var a=e.iceServers[o];void 0===a.urls&&a.url?(fe.deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,n.push(a)):n.push(e.iceServers[o])}e.iceServers=n}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}},ue.shimRemoteStreamsAPI=function(e){if("object"===pe(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var r=new Event("addstream");r.stream=e,t.dispatchEvent(r)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}}))}),t.apply(e,arguments)}}},ue.shimTrackEventTransceiver=function(e){"object"===pe(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})};var fe=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==pe(e)&&"function"!=typeof e)return{default:e};var r=de(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(q);function de(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(de=function(e){return e?r:t})(e)}function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e){return e&&void 0!==e.video?Object.assign({},e,{video:fe.compactObject(e.video)}):e}const ve=(e=>{let t,r=!1;return(...n)=>(r||(t=e(n),r=!0),t)})((()=>{const e=B(window);switch(e.browser){case"chrome":X(window,e);break;case"firefox":ae(window,e);break;case"safari":le(window,e);break;default:throw new W}}));let me={isActive:!1};function ye(){if(me.isActive){me.videoEl.src="",me.videoEl.srcObject=null,me.videoEl.load();for(const e of me.stream.getTracks())me.stream.removeTrack(e),e.stop();me={isActive:!1}}}const ge={class:"qrcode-stream-wrapper"},we={class:"qrcode-stream-overlay"},be=(0,n.aZ)({__name:"QrcodeStream",props:{constraints:{type:Object,default:()=>({facingMode:"environment"})},formats:{type:Array,default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function}},emits:["detect","camera-on","camera-off","error"],setup(e,{emit:t}){const r=e,s=(0,o.iH)(),c=(0,o.iH)(),u=(0,o.iH)(),l=(0,o.iH)(!1),f=(0,o.iH)(!1);(0,n.bv)((()=>{f.value=!0,L(r.formats)})),(0,n.Ah)((()=>{ye()}));const d=(0,n.Fl)((()=>({torch:r.torch,constraints:r.constraints,shouldStream:f.value&&!r.paused})));(0,n.YP)(d,(async e=>{if(e.shouldStream)try{const r=await async function(e,{constraints:t,torch:r}){var n,o;if(!0!==window.isSecureContext)throw new I;if(void 0===(null==(n=null==navigator?void 0:navigator.mediaDevices)?void 0:n.getUserMedia))throw new W;ve();const a=await navigator.mediaDevices.getUserMedia({audio:!1,video:t});if(void 0!==e.srcObject?e.srcObject=a:void 0!==e.mozSrcObject?e.mozSrcObject=a:window.URL.createObjectURL?e.src=window.URL.createObjectURL(a):window.webkitURL?e.src=window.webkitURL.createObjectURL(a):e.src=a.id,await Promise.race([k(e,"loadeddata"),R(3e3).then((()=>{throw new U}))]),await R(500),r){const[e]=a.getVideoTracks();e.getCapabilities().torch?e.applyConstraints({advanced:[{torch:!0}]}):console.warn("device does not support torch capability")}me={videoEl:e,stream:a,isActive:!0};const[i]=me.stream.getVideoTracks();return(null==(o=null==i?void 0:i.getCapabilities)?void 0:o.call(i))??{}}(u.value,e);f.value?(l.value=!0,t("camera-on",r)):ye()}catch(e){t("error",e)}else{const e=s.value,r=e.getContext("2d"),n=u.value;e.width=n.videoWidth,e.height=n.videoHeight,null==r||r.drawImage(n,0,0,n.videoWidth,n.videoHeight),ye(),l.value=!1,t("camera-off")}}),{deep:!0});const{formats:p}=(0,o.BK)(r);(0,n.YP)(p,(e=>{f.value&&L(e)}));const h=(0,n.Fl)((()=>d.value.shouldStream&&l.value));(0,n.YP)(h,(e=>{if(e){v(s.value),v(c.value);const e=()=>void 0===r.track?500:40;(async(e,{detectHandler:t,locateHandler:r,minDelay:n})=>{const o=a=>async i=>{if(e.readyState>1){const{lastScanned:s,contentBefore:c,lastScanHadContent:u}=a;if(i-s<n)window.requestAnimationFrame(o(a));else{const n=await H.detect(e),a=n.some((e=>!c.includes(e.rawValue)));a&&t(n);const s=n.length>0;s&&r(n),!s&&u&&r(n);const l={lastScanned:i,lastScanHadContent:s,contentBefore:a?n.map((e=>e.rawValue)):c};window.requestAnimationFrame(o(l))}}};o({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())})(u.value,{detectHandler:e=>t("detect",e),formats:r.formats,locateHandler:m,minDelay:e()})}}));const v=e=>{const t=e.getContext("2d");console.assert(void 0!==t,"tried to clear canvas with undefined 2D context"),t.clearRect(0,0,e.width,e.height)},m=e=>{const t=c.value,n=u.value;if(console.assert(void 0!==t&&void 0!==n,"onLocate handler called although component is not mounted"),0===e.length||void 0===r.track)v(t);else{const o=n.offsetWidth,a=n.offsetHeight,i=n.videoWidth,s=n.videoHeight,c=Math.max(o/i,a/s),u=i*c,l=s*c,f=u/i,d=l/s,p=(o-u)/2,h=(a-l)/2,v=({x:e,y:t})=>({x:Math.floor(e*f),y:Math.floor(t*d)}),m=({x:e,y:t})=>({x:Math.floor(e+p),y:Math.floor(t+h)}),y=e.map((e=>{const{boundingBox:t,cornerPoints:r}=e,{x:n,y:o}=m(v({x:t.x,y:t.y})),{x:a,y:i}=v({x:t.width,y:t.height});return{...e,cornerPoints:r.map((e=>m(v(e)))),boundingBox:DOMRectReadOnly.fromRect({x:n,y:o,width:a,height:i})}}));t.width=n.offsetWidth,t.height=n.offsetHeight;const g=t.getContext("2d");r.track(y,g)}};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",ge,[(0,n._)("video",{ref_key:"videoRef",ref:u,class:(0,a.C_)([{"qrcode-stream-camera--hidden":!h.value},"qrcode-stream-camera"]),autoplay:"",muted:"",playsinline:""},null,2),(0,n.wy)((0,n._)("canvas",{ref_key:"pauseFrameRef",ref:s,class:"qrcode-stream-camera"},null,512),[[i.F8,!h.value]]),(0,n._)("canvas",{ref_key:"trackingLayerRef",ref:c,class:"qrcode-stream-overlay"},null,512),(0,n._)("div",we,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])]))}}),Ce=(e,t)=>{const r=e.__vccOpts||e;for(const[e,n]of t)r[e]=n;return r},_e=Ce(be,[["__scopeId","data-v-f86cea29"]]),$e=(0,n.aZ)({__name:"QrcodeCapture",props:{formats:{type:Array,default:()=>["qr_code"]}},emits:["detect"],setup(e,{emit:t}){const r=e,o=async e=>{const r=await await e;t("detect",r)},a=e=>{if(!(e.target instanceof HTMLInputElement&&e.target.files))return;const t=[...Array.from(e.target.files)];for(const e of t.map((e=>N(e,r.formats))))o(e)};return(e,t)=>((0,n.wg)(),(0,n.iD)("input",{onChange:a,type:"file",name:"image",accept:"image/*",capture:"environment",multiple:""},null,32))}}),Te=["onDrop"],Se=(0,n.aZ)({__name:"QrcodeDropZone",props:{formats:{type:Array,default:()=>["qr_code"]}},emits:["detect","dragover","error"],setup(e,{emit:t}){const r=e,o=async e=>{try{const r=await e;t("detect",r)}catch(e){t("error",e)}},a=e=>{t("dragover",e)},s=({dataTransfer:e})=>{if(!e)return;a(!1);const t=[...Array.from(e.files)],n=e.getData("text/uri-list");t.forEach((e=>{o(N(e))})),""!==n&&o(z(n,r.formats))};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",{onDrop:(0,i.iM)(s,["prevent","stop"]),onDragenter:t[0]||(t[0]=(0,i.iM)((e=>a(!0)),["prevent","stop"])),onDragleave:t[1]||(t[1]=(0,i.iM)((e=>a(!1)),["prevent","stop"])),onDragover:t[2]||(t[2]=(0,i.iM)((()=>{}),["prevent","stop"]))},[(0,n.WI)(e.$slots,"default")],40,Te))}});function Pe(e){e.component("qrcode-stream",_e),e.component("qrcode-capture",$e),e.component("qrcode-drop-zone",Se)}const Ee={install:Pe};let Oe=null;typeof window<"u"?Oe=window.Vue:typeof global<"u"&&(Oe=global.Vue),Oe&&Oe.use(Ee)}}]);
//# sourceMappingURL=450.8b270db6680d628d780c.bundle.js.map